#include <stdio.h>
#define N 3
char b[N][N]={{'_','_','_'},{'_','_','_'},{'_','_','_'}};
char p='O',h='X';

int e(){
 for(int i=0;i<N;i++){
  if(b[i][0]==b[i][1]&&b[i][1]==b[i][2]&&b[i][0]!='_')return b[i][0]==p?10:-10;
  if(b[0][i]==b[1][i]&&b[1][i]==b[2][i]&&b[0][i]!='_')return b[0][i]==p?10:-10;
 }
 if(b[0][0]==b[1][1]&&b[1][1]==b[2][2]&&b[0][0]!='_')return b[0][0]==p?10:-10;
 if(b[0][2]==b[1][1]&&b[1][1]==b[2][0]&&b[0][2]!='_')return b[0][2]==p?10:-10;
 return 0;
}

int m(){
 for(int i=0;i<N;i++)for(int j=0;j<N;j++)if(b[i][j]=='_')return 1;
 return 0;
}

int mm(int x){
 int s=e();if(s||!m())return s;
 int best=x?-1000:1000;
 for(int i=0;i<N;i++)for(int j=0;j<N;j++)if(b[i][j]=='_'){
  b[i][j]=x?p:h;
  int v=mm(!x);
  best=x?(v>best?v:best):(v<best?v:best);
  b[i][j]='_';
 }
 return best;
}

void show(){
 for(int i=0;i<N;i++){for(int j=0;j<N;j++)printf("%c ",b[i][j]);printf("\n");}
}

int main(){
 int r,c,t=0;
 while(m()&&!e()){
  show();
  if(t%2==0){printf("Your move (r c): ");scanf("%d%d",&r,&c);if(b[r][c]=='_')b[r][c]=h;else{printf("bad!\n");continue;}}
  else{
   int br=-1,bc=-1,bv=-1000;
   for(int i=0;i<N;i++)for(int j=0;j<N;j++)if(b[i][j]=='_'){b[i][j]=p;int v=mm(0);b[i][j]='_';if(v>bv){bv=v;br=i;bc=j;}}
   b[br][bc]=p;printf("AI -> %d %d\n",br,bc);
  }
  t++;
 }
 show();
 int s=e();
 if(s==10)printf("AI wins\n");
 else if(s==-10)printf("You win\n");
 else printf("Draw\n");
}